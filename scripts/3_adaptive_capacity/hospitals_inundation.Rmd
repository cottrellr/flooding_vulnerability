---
title: "Inundation of hospitals"
author: "Rich Cottrell"
date: "16/02/2023"
output: pdf_document
---

Setup
```{r}
library(tidyverse)
library(here)
library(sf)
library(janitor)

```


#Bring in Flood awareness layer


```{r}

#Import simplified shapefile

flood_extents_simple <- st_read(here("data/spatial/Flood__Awareness__Extents/Flood__Awareness__Extents__Simplified.shp"))



#check it plots - all good
ggplot()+
  geom_sf(data = flood_extents_simple, fill="lightblue", colour = "grey90", linewidth = NA)+
  theme_bw()

```

Bring in hospital data
```{r}

hospital_shp <- read_csv(here("data/raw_data/Brisbane Hospital.csv")) |> 
  clean_names() |> 
  st_as_sf(coords = c("longitude", "latitude"), crs = "EPSG:4326") |> 
  st_transform(crs = st_crs(flood_extents_simple))

st_crs(flood_extents_simple)

ggplot()+
  geom_sf(data = flood_extents_simple, fill = "lightblue", linewidth = 0.01) +
  geom_sf(data = hospital_shp, colour = "red")+
  theme_bw()


inundated_hospitals <- st_intersection(hospital_shp, flood_extents_simple)





```

